function formatAbv(e){e.fields.abv<10?e.fields.abv=e.fields.abv.toFixed(1):e.fields.abv=Math.round(e.fields.abv)}function buildEmptyTaps(e){for(var n=0;n<e;n++)context.taps[n]={tap:n+1,empty:!0}}function renderView(){var e=tapdat.templates.main(context);document.getElementById("content").innerHTML=e,Animations.start(taps)}!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):"object"==typeof exports?exports.Handlebars=n():e.Handlebars=n()}(this,function(){return function(e){function n(a){if(t[a])return t[a].exports;var i=t[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function a(){var e=new s.HandlebarsEnvironment;return p.extend(e,s),e.SafeString=o["default"],e.Exception=c["default"],e.Utils=p,e.escapeExpression=p.escapeExpression,e.VM=h,e.template=function(n){return h.template(n,e)},e}var i=t(7)["default"];n.__esModule=!0;var r=t(1),s=i(r),l=t(2),o=i(l),u=t(3),c=i(u),d=t(4),p=i(d),f=t(5),h=i(f),m=t(6),v=i(m),g=a();g.create=a,v["default"](g),g["default"]=g,n["default"]=g,e.exports=n["default"]},function(e,n,t){"use strict";function a(e,n){this.helpers=e||{},this.partials=n||{},i(this)}function i(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new c["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),e.registerHelper("blockHelperMissing",function(n,t){var a=t.inverse,i=t.fn;if(n===!0)return i(this);if(n===!1||null==n)return a(this);if(h(n))return n.length>0?(t.ids&&(t.ids=[t.name]),e.helpers.each(n,t)):a(this);if(t.data&&t.ids){var s=r(t.data);s.contextPath=o.appendContextPath(t.data.contextPath,t.name),t={data:s}}return i(n,t)}),e.registerHelper("each",function(e,n){function t(n,t,i){u&&(u.key=n,u.index=t,u.first=0===t,u.last=!!i,d&&(u.contextPath=d+n)),l+=a(e[n],{data:u,blockParams:o.blockParams([e[n],n],[d+n,null])})}if(!n)throw new c["default"]("Must pass iterator to #each");var a=n.fn,i=n.inverse,s=0,l="",u=void 0,d=void 0;if(n.data&&n.ids&&(d=o.appendContextPath(n.data.contextPath,n.ids[0])+"."),m(e)&&(e=e.call(this)),n.data&&(u=r(n.data)),e&&"object"==typeof e)if(h(e))for(var p=e.length;s<p;s++)t(s,s,s===e.length-1);else{var f=void 0;for(var v in e)e.hasOwnProperty(v)&&(f&&t(f,s-1),f=v,s++);f&&t(f,s-1,!0)}return 0===s&&(l=i(this)),l}),e.registerHelper("if",function(e,n){return m(e)&&(e=e.call(this)),!n.hash.includeZero&&!e||o.isEmpty(e)?n.inverse(this):n.fn(this)}),e.registerHelper("unless",function(n,t){return e.helpers["if"].call(this,n,{fn:t.inverse,inverse:t.fn,hash:t.hash})}),e.registerHelper("with",function(e,n){m(e)&&(e=e.call(this));var t=n.fn;if(o.isEmpty(e))return n.inverse(this);if(n.data&&n.ids){var a=r(n.data);a.contextPath=o.appendContextPath(n.data.contextPath,n.ids[0]),n={data:a}}return t(e,n)}),e.registerHelper("log",function(n,t){var a=t.data&&null!=t.data.level?parseInt(t.data.level,10):1;e.log(a,n)}),e.registerHelper("lookup",function(e,n){return e&&e[n]})}function r(e){var n=o.extend({},e);return n._parent=e,n}var s=t(7)["default"];n.__esModule=!0,n.HandlebarsEnvironment=a,n.createFrame=r;var l=t(4),o=s(l),u=t(3),c=s(u),d="3.0.1";n.VERSION=d;var p=6;n.COMPILER_REVISION=p;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};n.REVISION_CHANGES=f;var h=o.isArray,m=o.isFunction,v=o.toString,g="[object Object]";a.prototype={constructor:a,logger:b,log:y,registerHelper:function(e,n){if(v.call(e)===g){if(n)throw new c["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=n},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,n){if(v.call(e)===g)o.extend(this.partials,e);else{if("undefined"==typeof n)throw new c["default"]("Attempting to register a partial as undefined");this.partials[e]=n}},unregisterPartial:function(e){delete this.partials[e]}};var b={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(e,n){if("undefined"!=typeof console&&b.level<=e){var t=b.methodMap[e];(console[t]||console.log).call(console,n)}}};n.logger=b;var y=b.log;n.log=y},function(e,n,t){"use strict";function a(e){this.string=e}n.__esModule=!0,a.prototype.toString=a.prototype.toHTML=function(){return""+this.string},n["default"]=a,e.exports=n["default"]},function(e,n,t){"use strict";function a(e,n){var t=n&&n.loc,r=void 0,s=void 0;t&&(r=t.start.line,s=t.start.column,e+=" - "+r+":"+s);for(var l=Error.prototype.constructor.call(this,e),o=0;o<i.length;o++)this[i[o]]=l[i[o]];Error.captureStackTrace&&Error.captureStackTrace(this,a),t&&(this.lineNumber=r,this.column=s)}n.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];a.prototype=new Error,n["default"]=a,e.exports=n["default"]},function(e,n,t){"use strict";function a(e){return c[e]}function i(e){for(var n=1;n<arguments.length;n++)for(var t in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],t)&&(e[t]=arguments[n][t]);return e}function r(e,n){for(var t=0,a=e.length;t<a;t++)if(e[t]===n)return t;return-1}function s(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return p.test(e)?e.replace(d,a):e}function l(e){return!e&&0!==e||!(!m(e)||0!==e.length)}function o(e,n){return e.path=n,e}function u(e,n){return(e?e+".":"")+n}n.__esModule=!0,n.extend=i,n.indexOf=r,n.escapeExpression=s,n.isEmpty=l,n.blockParams=o,n.appendContextPath=u;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},d=/[&<>"'`]/g,p=/[&<>"'`]/,f=Object.prototype.toString;n.toString=f;var h=function(e){return"function"==typeof e};h(/x/)&&(n.isFunction=h=function(e){return"function"==typeof e&&"[object Function]"===f.call(e)});var h;n.isFunction=h;var m=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===f.call(e)};n.isArray=m},function(e,n,t){"use strict";function a(e){var n=e&&e[0]||1,t=m.COMPILER_REVISION;if(n!==t){if(n<t){var a=m.REVISION_CHANGES[t],i=m.REVISION_CHANGES[n];throw new h["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+a+") or downgrade your runtime to an older version ("+i+").")}throw new h["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function i(e,n){function t(t,a,i){i.hash&&(a=p.extend({},a,i.hash)),t=n.VM.resolvePartial.call(this,t,a,i);var r=n.VM.invokePartial.call(this,t,a,i);if(null==r&&n.compile&&(i.partials[i.name]=n.compile(t,e.compilerOptions,n),r=i.partials[i.name](a,i)),null!=r){if(i.indent){for(var s=r.split("\n"),l=0,o=s.length;l<o&&(s[l]||l+1!==o);l++)s[l]=i.indent+s[l];r=s.join("\n")}return r}throw new h["default"]("The partial "+i.name+" could not be compiled when running in runtime-only mode")}function a(n){var t=void 0===arguments[1]?{}:arguments[1],r=t.data;a._setup(t),!t.partial&&e.useData&&(r=u(n,r));var s=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(s=t.depths?[n].concat(t.depths):[n]),e.main.call(i,n,i.helpers,i.partials,r,l,s)}if(!n)throw new h["default"]("No environment passed to template");if(!e||!e.main)throw new h["default"]("Unknown template object: "+typeof e);n.VM.checkRevision(e.compiler);var i={strict:function(e,n){if(!(n in e))throw new h["default"]('"'+n+'" not defined in '+e);return e[n]},lookup:function(e,n){for(var t=e.length,a=0;a<t;a++)if(e[a]&&null!=e[a][n])return e[a][n]},lambda:function(e,n){return"function"==typeof e?e.call(n):e},escapeExpression:p.escapeExpression,invokePartial:t,fn:function(n){return e[n]},programs:[],program:function(e,n,t,a,i){var s=this.programs[e],l=this.fn(e);return n||i||a||t?s=r(this,e,l,n,t,a,i):s||(s=this.programs[e]=r(this,e,l)),s},data:function(e,n){for(;e&&n--;)e=e._parent;return e},merge:function(e,n){var t=e||n;return e&&n&&e!==n&&(t=p.extend({},n,e)),t},noop:n.VM.noop,compilerInfo:e.compiler};return a.isTop=!0,a._setup=function(t){t.partial?(i.helpers=t.helpers,i.partials=t.partials):(i.helpers=i.merge(t.helpers,n.helpers),e.usePartial&&(i.partials=i.merge(t.partials,n.partials)))},a._child=function(n,t,a,s){if(e.useBlockParams&&!a)throw new h["default"]("must pass block params");if(e.useDepths&&!s)throw new h["default"]("must pass parent depths");return r(i,n,e[n],t,0,a,s)},a}function r(e,n,t,a,i,r,s){function l(n){var i=void 0===arguments[1]?{}:arguments[1];return t.call(e,n,e.helpers,e.partials,i.data||a,r&&[i.blockParams].concat(r),s&&[n].concat(s))}return l.program=n,l.depth=s?s.length:0,l.blockParams=i||0,l}function s(e,n,t){return e?e.call||t.name||(t.name=e,e=t.partials[e]):e=t.partials[t.name],e}function l(e,n,t){if(t.partial=!0,void 0===e)throw new h["default"]("The partial "+t.name+" could not be found");if(e instanceof Function)return e(n,t)}function o(){return""}function u(e,n){return n&&"root"in n||(n=n?m.createFrame(n):{},n.root=e),n}var c=t(7)["default"];n.__esModule=!0,n.checkRevision=a,n.template=i,n.wrapProgram=r,n.resolvePartial=s,n.invokePartial=l,n.noop=o;var d=t(4),p=c(d),f=t(3),h=c(f),m=t(1)},function(e,n,t){(function(t){"use strict";n.__esModule=!0,n["default"]=function(e){var n="undefined"!=typeof t?t:window,a=n.Handlebars;e.noConflict=function(){n.Handlebars===e&&(n.Handlebars=a)}},e.exports=n["default"]}).call(n,function(){return this}())},function(e,n,t){"use strict";n["default"]=function(e){return e&&e.__esModule?e:{"default":e}},n.__esModule=!0}])}),this.tapdat=this.tapdat||{},this.tapdat.templates=this.tapdat.templates||{},this.tapdat.templates.main=Handlebars.template({1:function(e,n,t,a){return"images"},3:function(e,n,t,a){var i;return null!=(i=n["if"].call(e,null!=e?e.empty:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.program(7,a,0),data:a}))?i:""},4:function(e,n,t,a){var i,r,s=n.helperMissing;return'      <div class="tap accentGray">\n        <div class="hero no-image"></div>\n        <div class="details">\n          <div class="title-card">\n            <span class="tap-number">'+this.escapeExpression((r=null!=(r=n.tap||(null!=e?e.tap:e))?r:s,"function"==typeof r?r.call(e,{name:"tap",hash:{},data:a}):r))+'</span>\n            <h2>Nada</h2>\n            <h3>All Gone</h3>\n          </div>\n          <h4 class="style">Empty Tap</h4>\n          <div class="inner-content">\n            <div class="description">\n              <span class="abv">0.0%</span>\n            </div>\n            <div class="rating cf">\n              <h4>Hops:</h4>\n              <div class="icons hops on-0">\n                '+(null!=(i=(n.times||e&&e.times||s).call(e,5,{name:"times",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'\n              </div>\n            </div>\n            <div class="rating cf">\n              <h4>Malt:</h4>\n              <div class="icons malt on-0">\n                '+(null!=(i=(n.times||e&&e.times||s).call(e,5,{name:"times",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'\n              </div>\n            </div>\n            <div class="notes">\n              <h4>Notes:</h4>\n              <p>Air</p>\n            </div>\n          </div>\n        </div>\n      </div>\n'},5:function(e,n,t,a){return" <span></span> "},7:function(e,n,t,a){var i,r=this.lambda,s=this.escapeExpression;return'      <div class="tap accent'+s(r(null!=(i=null!=e?e.fields:e)?i.accentColor:i,e))+'">\n'+(null!=(i=n["if"].call(e,null!=(i=null!=e?e.fields:e)?i.imageLink:i,{name:"if",hash:{},fn:this.program(8,a,0),inverse:this.program(10,a,0),data:a}))?i:"")+'        <div class="details">\n          <div class="title-card">\n            <span class="tap-number">'+s(r(null!=(i=null!=e?e.fields:e)?i.tap:i,e))+"</span>\n"+(null!=(i=n["if"].call(e,null!=e?e.coffee:e,{name:"if",hash:{},fn:this.program(12,a,0),inverse:this.program(14,a,0),data:a}))?i:"")+"            <h3>"+s(r(null!=(i=null!=e?e.fields:e)?i.breweryName:i,e))+'</h3>\n          </div>\n          <h4 class="style">'+s(r(null!=(i=null!=e?e.fields:e)?i.style:i,e))+'</h4>\n          <div class="inner-content">\n            <div class="description">\n'+(null!=(i=n["if"].call(e,null!=e?e.coffee:e,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.program(21,a,0),data:a}))?i:"")+'              <h4 class="subtitle">'+s(r(null!=(i=null!=e?e.fields:e)?i.subtitle:i,e))+"</h4>\n              <p>"+s(r(null!=(i=null!=e?e.fields:e)?i.description:i,e))+"</p>\n            </div>\n"+(null!=(i=n["if"].call(e,null!=e?e.coffee:e,{name:"if",hash:{},fn:this.program(23,a,0),inverse:this.program(25,a,0),data:a}))?i:"")+'            <div class="notes">\n'+(null!=(i=n["if"].call(e,null!=(i=null!=e?e.fields:e)?i.tastingNotes:i,{name:"if",hash:{},fn:this.program(37,a,0),inverse:this.program(39,a,0),data:a}))?i:"")+"            </div>\n          </div>\n        </div>\n      </div>\n"},8:function(e,n,t,a){var i;return'          <div class="hero" style="background-image: url(\''+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fields:e)?i.imageLink:i,e))+"')\"></div>\n"},10:function(e,n,t,a){return'          <div class="hero no-image"></div>\n'},12:function(e,n,t,a){var i;return"                <h2>"+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fields:e)?i.coffeeName:i,e))+"</h2>\n"},14:function(e,n,t,a){var i;return null!=(i=n["if"].call(e,null!=e?e.cider:e,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.program(17,a,0),data:a}))?i:""},15:function(e,n,t,a){var i;return"                <h2>"+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fields:e)?i.ciderName:i,e))+"</h2>\n"},17:function(e,n,t,a){var i;return"                <h2>"+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fields:e)?i.beerName:i,e))+"</h2>\n              "},19:function(e,n,t,a){var i;return'                <span class="strength">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fields:e)?i.strength:i,e))+"</span>\n"},21:function(e,n,t,a){var i;return'                <span class="abv">'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fields:e)?i.abv:i,e))+"%</span>\n"},23:function(e,n,t,a){var i;return'              <div class="rating cf">\n                <h4>Level:</h4>\n                <div class="icons beans on-'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fields:e)?i.level:i,e))+'">\n                  '+(null!=(i=(n.times||e&&e.times||n.helperMissing).call(e,5,{name:"times",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"\n                </div>\n              </div>\n"},25:function(e,n,t,a){var i;return null!=(i=n["if"].call(e,null!=e?e.cider:e,{name:"if",hash:{},fn:this.program(26,a,0),inverse:this.program(28,a,0),data:a}))?i:""},26:function(e,n,t,a){var i;return'              <div class="rating cf">\n                <h4>Sweet:</h4>\n                <div class="icons apple on-'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fields:e)?i.sweetness:i,e))+'">\n                  '+(null!=(i=(n.times||e&&e.times||n.helperMissing).call(e,5,{name:"times",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"\n                </div>\n              </div>\n"},28:function(e,n,t,a){var i,r=this.lambda,s=this.escapeExpression,l=n.helperMissing;return'              <div class="rating cf">\n'+(null!=(i=n["if"].call(e,null!=(i=null!=e?e.fields:e)?i.details:i,{name:"if",hash:{},fn:this.program(29,a,0),inverse:this.program(31,a,0),data:a}))?i:"")+'                <div class="icons hops on-'+s(r(null!=(i=null!=e?e.fields:e)?i.hoppiness:i,e))+'">\n                  '+(null!=(i=(n.times||e&&e.times||l).call(e,5,{name:"times",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+'\n                </div>\n              </div>\n              <div class="rating cf">\n'+(null!=(i=n["if"].call(e,null!=(i=null!=e?e.fields:e)?i.details:i,{name:"if",hash:{},fn:this.program(33,a,0),inverse:this.program(35,a,0),data:a}))?i:"")+'                <div class="icons malt on-'+s(r(null!=(i=null!=e?e.fields:e)?i.maltiness:i,e))+'">\n                  '+(null!=(i=(n.times||e&&e.times||l).call(e,5,{name:"times",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+"\n                </div>\n              </div>\n            "},29:function(e,n,t,a){return"                  <h4>Hop Level:</h4>\n"},31:function(e,n,t,a){return"                  <h4>Hops:</h4>\n"},33:function(e,n,t,a){return"                  <h4>Malt Level:</h4>\n"},35:function(e,n,t,a){return"                  <h4>Malt:</h4>\n"},37:function(e,n,t,a){var i;return"                <h4>Notes:</h4>\n                <p>"+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fields:e)?i.tastingNotes:i,e))+"</p>\n"},39:function(e,n,t,a){var i;return null!=(i=n["if"].call(e,null!=(i=null!=e?e.fields:e)?i.details:i,{name:"if",hash:{},fn:this.program(40,a,0),inverse:this.noop,data:a}))?i:""},40:function(e,n,t,a){var i;return"                <h4>Deets:</h4>\n                <p>"+this.escapeExpression(this.lambda(null!=(i=null!=e?e.fields:e)?i.details:i,e))+"</p>\n              "},compiler:[6,">= 2.0.0-beta.1"],main:function(e,n,t,a){var i;return'\n<div class="taps count-'+this.escapeExpression(this.lambda(null!=(i=null!=e?e.taps:e)?i.length:i,e))+" "+(null!=(i=n["if"].call(e,null!=e?e.images:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+'">\n'+(null!=(i=n.each.call(e,null!=e?e.taps:e,{name:"each",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+"</div>\n"},useData:!0});var element=document.querySelector(".github"),timer,mouseStopped,listener=function(){setTimeout(function(){clearTimeout(timer),timer=setTimeout(mouseStopped,1e3),element.classList.add("visible")},150)},mouseStopped=function(){element.classList.remove("visible")};document.addEventListener("mousemove",listener,!1);var myAccessToken="60f91d21ad8cb2659812d6f559343aaac96934ba665638cbd78c26e3e390b3d2",mySpaceId="ydkhc43bj0b4",tapCount=3,client=contentful.createClient({accessToken:myAccessToken,space:mySpaceId}),context={taps:[],pints:0,images:!1},taps;Handlebars.registerHelper("times",function(e,n){for(var t="",a=0;a<e;a++)t+=n.fn(a);return t}),client.getEntries({}).then(function(e){buildEmptyTaps(tapCount),e.items.forEach(function(e){e.fields.tap&&(e.fields.imageLink&&(context.images=!0),e.fields.abv&&formatAbv(e),"coffee"===e.sys.contentType.sys.id&&(e.coffee=!0),"cider"===e.sys.contentType.sys.id&&(e.cider=!0),context.taps[e.fields.tap-1]=e)}),console.table(context),taps=context.taps,renderView()});var Animations=function(){function e(e){c=e,n(),t()}function n(){var e=$(".tap");d=e.length,c.forEach(function(n,t){return p[t]={node:$(e[t]),data:n}})}function t(){setInterval(function(){var e=p[o];s(e),i(e),e.data.empty||r(e),l(e),a()},u)}function a(){o=o==d-1?0:o+1}function i(e){e.node.find(".description > span").velocity("callout.pulse",{stagger:100,drag:!0})}function r(e){e.node.find(".icons.beans > span:lt("+e.data.fields.level+")").velocity("callout.pulse",{stagger:100,drag:!0,delay:1300}),e.node.find(".icons.apple > span:lt("+e.data.fields.sweetness+")").velocity("callout.pulse",{stagger:100,drag:!0,delay:1300}),e.node.find(".icons.hops > span:lt("+e.data.fields.hoppiness+")").velocity("callout.pulse",{stagger:100,drag:!0,delay:1300}),e.node.find(".icons.malt > span:lt("+e.data.fields.maltiness+")").velocity("callout.pulse",{stagger:100,drag:!0,delay:1600})}function s(e){e.node.find(".title-card").velocity({translateY:["-15%",[500,20]]},{duration:1e3,complete:function(){setTimeout(function(){e.node.find(".title-card").velocity("reverse")},2e3)}})}function l(e){e.node.find(".hero").velocity({scaleX:1.03,scaleY:1.03,easing:"easeInSine"},{duration:4e3,complete:function(){e.node.find(".hero").velocity("reverse")}})}var o=0,u=4e3,c=null,d=null,p=[];return{start:e}}();